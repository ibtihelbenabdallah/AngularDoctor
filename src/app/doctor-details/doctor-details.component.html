<div *ngIf="doctor" class="doctor-card">
  <h1>Doctor details</h1>
  <div class="doctor-info">
    <p><strong>ID:</strong> {{ doctor.id }}</p>
    <p><strong>Name:</strong> {{ doctor.Name }}</p>
    <p><strong>Specialization:</strong> {{ doctor.Specialization }}</p>
    <p><strong>Email:</strong> {{ doctor.Email }}</p>
    <p><strong>Mobile:</strong> {{ doctor.Mobile }}</p>
    <p><strong>Departement:</strong> {{ doctor.Department?.description }}</p> <!-- Afficher le département actuel -->

  </div>
  
  <!-- Bouton Modifier -->
  <button class="btn-edit" (click)="openEditPopup()">Edit</button>
</div>

<!-- Si aucune information n'est trouvée -->
<div *ngIf="!doctor" class="no-doctor">
  <p>The doctor was not found.</p>
</div>

<!-- Pop-up -->
<div *ngIf="isPopupOpen" class="popup-overlay">
  <div class="popup-content">
    <h2>Modifier le médecin</h2>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="name">Nom :</label>
        <input id="name" formControlName="Name" type="text">
      </div>

      <div class="form-group">
        <label for="specialization">Spécialisation :</label>
        <input id="specialization" formControlName="Specialization" type="text">
      </div>

      <div class="form-group">
        <label for="email">Email :</label>
        <input id="email" formControlName="Email" type="email">
      </div>

      <div class="form-group">
        <label for="mobile">Mobile :</label>
        <input id="mobile" formControlName="Mobile" type="text">
      </div>

      <div class="form-group">
        <label for="departementId">Département :</label>
        <select id="departementId" formControlName="departementId">
          <option *ngFor="let dept of departements" [value]="dept.id">
            {{ dept.description }}
          </option>
        </select>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-submit">Sauvegarder</button>
        <button type="button" class="btn-cancel" (click)="closePopup()">Annuler</button>
      </div>
    </form>
  </div>
</div>
